{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nickr\\\\Google_Book_Search\\\\client\\\\src\\\\pages\\\\Search.js\";\nimport React, { Component } from 'react';\nimport { Button, Card, CardColumns, Col, Container, Row } from 'react-bootstrap';\nimport API from '../utils/API.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: \"\",\n      books: [],\n      results: [],\n      savedBooks: [],\n      error: \"\"\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        search: event.target.value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      API.getBooks(this.state.search).then(res => {\n        this.setState({\n          results: res.data.items,\n          error: \"\"\n        }); // console.log(res.data.items)\n      }).catch(err => this.setState({\n        error: err.message\n      }));\n    };\n\n    this.handleSave = book => {\n      console.log(this.state.results);\n\n      if (this.state.savedBooks.map(book => book._id).includes(book._id)) {\n        API.deleteBook(book._id).then(deletedBook => this.setState({\n          savedBooks: this.state.savedBooks.filter(book => book._id !== deletedBook._id)\n        })).catch(err => console.error(err));\n      } else {\n        API.saveBook(book).then(savedBook => this.setState({\n          savedBooks: this.state.savedBooks.concat([savedBook])\n        })).catch(err => console.error(err));\n      }\n    };\n  }\n\n  render() {\n    console.log(this.state.results);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Google Books Search:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Enter title here\",\n          value: this.search,\n          name: \"book\",\n          type: \"text\",\n          onChange: this.handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: this.handleFormSubmit,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Results:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(CardColumns, {\n            children: this.state.results.map(result =>\n            /*#__PURE__*/\n            // console.log(result.volumeInfo.imageLinks.thumbnail),\n            _jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                style: {\n                  width: '190px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                  variant: \"top\",\n                  src: result.volumeInfo.imageLinks.thumbnail\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    children: [result.volumeInfo.title, \" by \", result.volumeInfo.authors]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                    style: {\n                      fontSize: 13\n                    },\n                    children: result.volumeInfo.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    href: result.volumeInfo.previewLink,\n                    target: \"_blank\",\n                    style: {\n                      margin: '10px'\n                    },\n                    children: \"Preview Book\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    onClick: () => this.handleSave(result),\n                    children: \"Save Book\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/nickr/Google_Book_Search/client/src/pages/Search.js"],"names":["React","Component","Button","Card","CardColumns","Col","Container","Row","API","Search","state","search","books","results","savedBooks","error","handleInputChange","event","setState","target","value","handleFormSubmit","preventDefault","getBooks","then","res","data","items","catch","err","message","handleSave","book","console","log","map","_id","includes","deleteBook","deletedBook","filter","saveBook","savedBook","concat","render","result","width","volumeInfo","imageLinks","thumbnail","title","authors","fontSize","description","previewLink","margin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,WAAvB,EAAoCC,GAApC,EAAyCC,SAAzC,EAAoDC,GAApD,QAA+D,iBAA/D;AACA,OAAOC,GAAP,MAAgB,iBAAhB;;;AAEA,MAAMC,MAAN,SAAqBR,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC3BS,KAD2B,GACnB;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,KAAK,EAAE,EAFH;AAGJC,MAAAA,OAAO,EAAE,EAHL;AAIJC,MAAAA,UAAU,EAAE,EAJR;AAKJC,MAAAA,KAAK,EAAE;AALH,KADmB;;AAAA,SAS3BC,iBAT2B,GASPC,KAAK,IAAI;AAC5B,WAAKC,QAAL,CAAc;AAAEP,QAAAA,MAAM,EAAEM,KAAK,CAACE,MAAN,CAAaC;AAAvB,OAAd;AACA,KAX0B;;AAAA,SAa3BC,gBAb2B,GAaRJ,KAAK,IAAI;AACxBA,MAAAA,KAAK,CAACK,cAAN;AACAd,MAAAA,GAAG,CAACe,QAAJ,CAAa,KAAKb,KAAL,CAAWC,MAAxB,EACGa,IADH,CACQC,GAAG,IAAI;AACX,aAAKP,QAAL,CAAc;AAAEL,UAAAA,OAAO,EAAEY,GAAG,CAACC,IAAJ,CAASC,KAApB;AAA2BZ,UAAAA,KAAK,EAAE;AAAlC,SAAd,EADW,CAEX;AACD,OAJH,EAKGa,KALH,CAKSC,GAAG,IAAI,KAAKX,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAEc,GAAG,CAACC;AAAb,OAAd,CALhB;AAMD,KArBwB;;AAAA,SAuB3BC,UAvB2B,GAuBdC,IAAI,IAAI;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKxB,KAAL,CAAWG,OAAvB;;AACA,UAAI,KAAKH,KAAL,CAAWI,UAAX,CAAsBqB,GAAtB,CAA0BH,IAAI,IAAIA,IAAI,CAACI,GAAvC,EAA4CC,QAA5C,CAAqDL,IAAI,CAACI,GAA1D,CAAJ,EAAoE;AAChE5B,QAAAA,GAAG,CAAC8B,UAAJ,CAAeN,IAAI,CAACI,GAApB,EACKZ,IADL,CACUe,WAAW,IAAI,KAAKrB,QAAL,CAAc;AAAEJ,UAAAA,UAAU,EAAE,KAAKJ,KAAL,CAAWI,UAAX,CAAsB0B,MAAtB,CAA6BR,IAAI,IAAIA,IAAI,CAACI,GAAL,KAAaG,WAAW,CAACH,GAA9D;AAAd,SAAd,CADzB,EAEKR,KAFL,CAEWC,GAAG,IAAII,OAAO,CAAClB,KAAR,CAAcc,GAAd,CAFlB;AAGH,OAJD,MAIO;AACHrB,QAAAA,GAAG,CAACiC,QAAJ,CAAaT,IAAb,EACKR,IADL,CACUkB,SAAS,IAAI,KAAKxB,QAAL,CAAc;AAAEJ,UAAAA,UAAU,EAAE,KAAKJ,KAAL,CAAWI,UAAX,CAAsB6B,MAAtB,CAA6B,CAACD,SAAD,CAA7B;AAAd,SAAd,CADvB,EAEKd,KAFL,CAEWC,GAAG,IAAII,OAAO,CAAClB,KAAR,CAAcc,GAAd,CAFlB;AAGH;AACJ,KAlC0B;AAAA;;AAoC3Be,EAAAA,MAAM,GAAG;AACLX,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKxB,KAAL,CAAWG,OAAvB;AACA,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,gCACI;AACI,UAAA,WAAW,EAAC,kBADhB;AAEI,UAAA,KAAK,EAAE,KAAKF,MAFhB;AAGI,UAAA,IAAI,EAAC,MAHT;AAII,UAAA,IAAI,EAAC,MAJT;AAKI,UAAA,QAAQ,EAAE,KAAKK;AALnB;AAAA;AAAA;AAAA;AAAA,gBADJ,eASI;AACI,UAAA,IAAI,EAAC,QADT;AAEI,UAAA,OAAO,EAAE,KAAKK,gBAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAgBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ,eAiBI,QAAC,SAAD;AAAA,+BACI,QAAC,GAAD;AAAA,iCACI,QAAC,WAAD;AAAA,sBACC,KAAKX,KAAL,CAAWG,OAAX,CAAmBsB,GAAnB,CAAuBU,MAAM;AAAA;AAC1B;AACA,oBAAC,GAAD;AAAA,qCACI,QAAC,IAAD;AAAM,gBAAA,KAAK,EAAE;AAAEC,kBAAAA,KAAK,EAAE;AAAT,iBAAb;AAAA,wCACI,QAAC,IAAD,CAAM,GAAN;AAAU,kBAAA,OAAO,EAAC,KAAlB;AAAwB,kBAAA,GAAG,EAAED,MAAM,CAACE,UAAP,CAAkBC,UAAlB,CAA6BC;AAA1D;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,IAAN;AAAA,0CACI,QAAC,IAAD,CAAM,KAAN;AAAA,+BAAaJ,MAAM,CAACE,UAAP,CAAkBG,KAA/B,UAA0CL,MAAM,CAACE,UAAP,CAAkBI,OAA5D;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI,QAAC,IAAD,CAAM,IAAN;AAAW,oBAAA,KAAK,EAAE;AAAEC,sBAAAA,QAAQ,EAAE;AAAZ,qBAAlB;AAAA,8BAAqCP,MAAM,CAACE,UAAP,CAAkBM;AAAvD;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAGI,QAAC,MAAD;AAAQ,oBAAA,OAAO,EAAC,SAAhB;AAA0B,oBAAA,IAAI,EAAER,MAAM,CAACE,UAAP,CAAkBO,WAAlD;AAA+D,oBAAA,MAAM,EAAC,QAAtE;AAA+E,oBAAA,KAAK,EAAE;AAACC,sBAAAA,MAAM,EAAE;AAAT,qBAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHJ,eAII,QAAC,MAAD;AAAQ,oBAAA,OAAO,EAAC,SAAhB;AAA0B,oBAAA,OAAO,EAAE,MAAM,KAAKxB,UAAL,CAAgBc,MAAhB,CAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAFH;AADD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAwCH;;AA9E0B;;AAiF/B,eAAepC,MAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Card, CardColumns, Col, Container, Row } from 'react-bootstrap';\r\nimport API from '../utils/API.js'\r\n\r\nclass Search extends Component {\r\n    state = {\r\n        search: \"\",\r\n        books: [],\r\n        results: [],\r\n        savedBooks: [],\r\n        error: \"\"\r\n      };\r\n\r\n    handleInputChange = event => {\r\n     this.setState({ search: event.target.value });\r\n    };\r\n\r\n    handleFormSubmit = event => {\r\n        event.preventDefault();\r\n        API.getBooks(this.state.search)\r\n          .then(res => {\r\n            this.setState({ results: res.data.items, error: \"\" });\r\n            // console.log(res.data.items)\r\n          })\r\n          .catch(err => this.setState({ error: err.message }));\r\n      };\r\n    \r\n    handleSave = book => {\r\n        console.log(this.state.results)\r\n        if (this.state.savedBooks.map(book => book._id).includes(book._id)) {\r\n            API.deleteBook(book._id)\r\n                .then(deletedBook => this.setState({ savedBooks: this.state.savedBooks.filter(book => book._id !== deletedBook._id) }))\r\n                .catch(err => console.error(err));\r\n        } else {\r\n            API.saveBook(book)\r\n                .then(savedBook => this.setState({ savedBooks: this.state.savedBooks.concat([savedBook]) }))\r\n                .catch(err => console.error(err));\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        console.log(this.state.results)\r\n        return (\r\n            <div>\r\n                <h1>Google Books Search:</h1>\r\n                <form>\r\n                    <input \r\n                        placeholder=\"Enter title here\"\r\n                        value={this.search}\r\n                        name=\"book\"\r\n                        type=\"text\"\r\n                        onChange={this.handleInputChange}\r\n                    >\r\n                    </input>\r\n                    <button\r\n                        type=\"submit\"\r\n                        onClick={this.handleFormSubmit}\r\n                    >Search</button>\r\n                </form>\r\n                <h3>Results:</h3>\r\n                <Container>\r\n                    <Row>\r\n                        <CardColumns>\r\n                        {this.state.results.map(result => (\r\n                            // console.log(result.volumeInfo.imageLinks.thumbnail),\r\n                            <Col>\r\n                                <Card style={{ width: '190px' }}>\r\n                                    <Card.Img variant=\"top\" src={result.volumeInfo.imageLinks.thumbnail} />\r\n                                    <Card.Body>\r\n                                        <Card.Title>{result.volumeInfo.title} by {result.volumeInfo.authors}</Card.Title>\r\n                                        <Card.Text style={{ fontSize: 13 }}>{result.volumeInfo.description}</Card.Text>\r\n                                        <Button variant=\"primary\" href={result.volumeInfo.previewLink} target=\"_blank\" style={{margin: '10px'}}>Preview Book</Button>\r\n                                        <Button variant=\"primary\" onClick={() => this.handleSave(result)}>Save Book</Button>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                            </Col>\r\n                        ))}\r\n                        </CardColumns>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}